事务管理本身是一个很深的研究方向，这里只是和关注Spring事务管理抽象层的理念以及相关内容  

##  什么是事务  
### ACID
#### 原子性（atomicity)  
全部操作不可分割，要么全部成功，要么全部失败  
#### 一致性（consistency)
数据资源在事务执行前后，数据一致状态。（银行转账，钱不能凭空出现，也不能凭空消失）
#### 隔离性（isolation）
事务之间的相互影响程度
##### 隔离级别
###### 读未提交（Read Uncommited）
最低级别，一个事务可以读取另一个事务没有提交的更新结果  
###### 授权读取也称为已提交读（Read Commited）
大部分数据库默认级别，只有在事务提交后，另一个事务才可以读取到
###### 可重复读（Repeatable Read)
保证对同一笔数据读取始终是一致的
###### 串行化（Serializable)   
最为严格，一次执行，最为安全，但是性能较低
##### 隔离级别导致问题  
###### 脏读(Dirty Read) 
一个事务对数据修改，但是还没有提交就被另外一个事务读到了（一个事务回滚了，数据实际不存在系统中）
###### 不可重复读（non-Repeatable Read) 
一个事务中，同一笔数据，多次读取结果不一样（有些字段被修改了）
###### 幻读（Serializable) 
一个事务中，同一个查询，每次结果查到结果集不一样。
![隔离级别与问题](./Image/005/隔离级别与问题.png)
#### 持久性（durability）
数据一旦提交，变更不可逆转。

### 家族成员
#### Resource Manager：RM
负责存储并管理系统数据资源状态，数据库服务器等
#### Transaction Processor Monitor：TPM  
分布式事务中协调包含多个RM的事务处理，Application Server等  
#### Transaction Manager：TM
TPM的核心，直接负责多RM之间的事务处理协调工作，提供事务界定，事务上下文传播等功能接口。  
#### Application
独立形式存在的或者运行于容器中的应用程序，事务边界的触发点。

### 分类
#### 全局事务Global Transaction
多个RM，需要TPM参与，TPM采取两阶段提交保证ACID(牧师主持婚礼：1.牧师询问双方是否同意，2.双方都同意，牧师宣布完婚)
#### 局部事务Local Transaction
只有一个RM（一个事务涉及的RM，而并非系统中有几个）

###  群雄逐鹿  
从局部到全局
#### 局部事务Local Transaction 


#### 全局事务Global Transaction



### Spring的事务管理  
[Spring的事务管理](./005001Spring事务管理.md)
[Spring的事务管理使用](./005002Spring事务管理使用.md)



























